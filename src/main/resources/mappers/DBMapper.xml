<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="com.wolclass.mapper.DbMapper">
 	<!-- 회원가입 - 다빈  -->
 	<insert id="memberJoin" parameterType="map">
 		insert into wc_member
 		values (#{m_id},#{m_pw},#{m_email},#{m_name},#{m_nick}, 
 		default,#{m_phone},#{m_dogtype},#{m_dogbirth},#{m_profile},default)
 	</insert>
 	
 	<!-- 아이디 중복검사 - 다빈 -->
 	<select id="idCheck" resultType="int" >
 		select count(*) from wc_member where m_id = #{m_id}
 	</select>
 	
 	<!-- 이메일 중복검사 - 다빈 -->
 	<select id="emailCheck" resultType="int" >
 		select count(*) from wc_member where m_email = #{m_email}
 	</select>
 	
 	<!-- 전화번호 중복검사 - 다빈 -->
 	<select id="phoneCheck" resultType="int">
 		select count(*) from wc_member where m_phone = #{m_phone}
 	</select>
 	
 	<!-- 로그인 - 다빈 -->
 	<select id="loginMember" resultType="MemberVO">
 		select * from wc_member where m_id = #{m_id} and m_pw = #{m_pw}
 	</select>
 	
 	<!-- 아이디 찾기 - 다빈 -->
 	<select id="findId" resultType="MemberVO">
 		select * from wc_member where m_name = #{m_name} and m_email = #{m_email}
 	</select>
 	
 	<!-- 비밀번호 찾기 (임시비밀번호 발급) - 다빈  -->
 	<select id="findPw" resultType="int">
 		select count(m_id) from wc_member where m_id=#{m_id} and m_email=#{m_email}
 	</select>
 	
 	<!-- 비밀번호 변경 - 다빈 -->
 	<update id="updatePw">
 		update wc_member set m_pw = #{m_pw} where m_id=#{m_id}
 	</update>
 	
 	<!-- 카카오  회원가입 - 다빈-->
 	<insert id="kakaoInsert" parameterType="map">
 		insert into wc_member(m_id,m_pw,m_email,m_name) 
 		values (#{m_id},#{m_pw},#{m_email},#{m_name})
 	</insert>
 	
 	<!-- 카카오 로그인 - 다빈 -->
 	<select id="kfindId" resultType="MemberVO">
 		select * from wc_member where m_id = #{m_id} 
 	</select>
 	
 	<!-- 특정회원 조회 - 다빈 -->
 	<select id="selectM" resultType="MemberVO">
 		select * from wc_member where m_id = #{m_id}
 	</select>
 	
 	<!-- 프로필 사진 변경 -->
 	<update id="profileImg" parameterType="MemberVO">
 		update wc_member set m_profile = #{m_profile} where m_id = #{m_id}
 	</update>
 	
 
 </mapper>